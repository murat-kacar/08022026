"use strict";(()=>{var e={};e.id=643,e.ids=[643],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5753:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>g,patchFetch:()=>m,requestAsyncStorage:()=>l,routeModule:()=>h,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var s={};r.r(s),r.d(s,{GET:()=>i});var a=r(9303),n=r(8716),o=r(3131),u=r(7070),p=r(1103);async function i(e){let t=new URL(e.url),r=t.searchParams.get("type"),s=parseInt(t.searchParams.get("limit")||"50",10),a=t.searchParams.get("featured"),n=t.searchParams.get("homepage"),o=t.searchParams.get("hero");try{let e=["status = 'published'"],t=[];r&&(t.push(r),e.push(`event_type = $${t.length}`)),"true"===a&&e.push("is_featured = true"),"true"===n&&e.push("show_on_homepage = true"),"true"===o&&e.push("show_in_hero = true");let i=`SELECT * FROM events WHERE ${e.join(" AND ")} ORDER BY display_order ASC, start_date ASC LIMIT $${t.length+1}`;t.push(s);let h=await (0,p.IO)(i,t);return u.NextResponse.json({data:h.rows})}catch(e){return u.NextResponse.json({error:"Internal server error"},{status:500})}}let h=new a.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/events/route",pathname:"/api/events",filename:"route",bundlePath:"app/api/events/route"},resolvedPagePath:"/workspaces/HK/app/api/events/route.ts",nextConfigOutput:"",userland:s}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:c}=h,g="/api/events/route";function m(){return(0,o.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}},1103:(e,t,r)=>{r.d(t,{IO:()=>o});let s=require("pg"),a=process.env.DATABASE_URL||"postgresql://user:pass@localhost:5432/hka",n=new s.Pool({connectionString:a});async function o(e,t){return await n.query(e,t)}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[948,972],()=>r(5753));module.exports=s})();